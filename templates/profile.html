{% extends "base.html" %}

{% block container %}
    <main class="container mt-3">
        <div class="card my-4 mx-auto">
            <div class="card-body m-2 m-md-4">
                <article class="row">
                    <div class="col-5"><img src="{{ tutor.picture }}" class="img-fluid" alt=""></div>
                    <div class="col-7">

                        <section class="teacher=info">

                            <h1 class="h2">{{ tutor.name }}</h1>
                            <p>
                                {% for goal in tutor.goals %}
                                    <a href="{{ url_for("goal_view", goal=goal.slug) }}">
                                        <span class="badge badge-secondary mr-1">
                                            {{ goal.icon }}
                                            {{ goal.description }}
                                        </span>
                                    </a>
                                {% endfor %}
                            </p>
                            <p>
                                Рейтинг: {{ tutor.rating }}
                                Ставка: {{ tutor.price }} / час
                            </p>
                            <p>{{ tutor.about }}</p>

                        </section>

                        <section class="available">

                            <h4 class="mb-4 mt-5">Записаться на пробный урок</h4>

                            {% for day in weekdays %}
                                <h6 class="mt-4">{{ weekdays[day] }}</h6>
                                {% set ns = namespace(is_weekend=true) %}
                                {% for time_slot, is_open in tutor.schedule[day].items() %}
                                    {% if is_open %}
                                        {% set ns.is_weekend = false %}
                                        <a href="{{ url_for('booking_view', tutor_id=tutor.id, day=day, time=time_slot) }}"
                                           class="btn btn-outline-success my-1 mr-3">{{ time_slot }}
                                            свободно</a>
                                    {% endif %}
                                {% endfor %}
                                {% if ns.is_weekend %}
                                    <p>Нет свободных уроков</p>
                                {% endif %}
                            {% endfor %}

                        </section>

                    </div>
                </article>
            </div>

        </div>
    </main>
{% endblock %}